CREATE DATABASE EX5_SQL;

CREATE TABLE FORNECEDOR (
  FOR_INT_ID INTEGER  NOT NULL IDENTITY(1,1) ,
  FOR_STR_NOME VARCHAR(70),
  FOR_INT_TELEFONE INTEGER,
  FOR_INT_CNPJ INTEGER,
 CONSTRAINT PK_FOR_INT_ID PRIMARY KEY(FOR_INT_ID),
 CONSTRAINT UK_FOR_INT_TELEFONE UNIQUE (FOR_INT_TELEFONE),
 CONSTRAINT UK_FOR_CNPJ UNIQUE(FOR_INT_CNPJ),
 );


 SELECT * FROM FORNECEDOR


CREATE TABLE CATEGORIA (
  CAT_INT_ID INTEGER  NOT NULL IDENTITY(1,1) ,
  CAT_STR_DESCRICAO VARCHAR(70)      ,
CONSTRAINT PK_CAT_INT_ID PRIMARY KEY(CAT_INT_ID)
);


CREATE TABLE PRODUTOS (
  PRO_INT_ID INTEGER  NOT NULL  IDENTITY(1,1) ,
  FOR_INT_ID INTEGER  NOT NULL,
  PRO_STR_DESCRICAO VARCHAR(70),
  PRO_INT_QUANTIDADE_ESTOQUE INTEGER,
CONSTRAINT PK_PRO_INT_ID PRIMARY KEY(PRO_INT_ID),
  CONSTRAINT FK_PRODUTO_FORNECEDOR FOREIGN KEY(FOR_INT_ID)
    REFERENCES FORNECEDOR(FOR_INT_ID)
)


CREATE TABLE ESTOQUE (
  EST_INT_ID INTEGER  NOT NULL IDENTITY(1,1) ,
  PRO_INT_ID INTEGER  NOT NULL,
  EST_INT_QUANTIDADE INTEGER,
  EST_INT_ESTOQUE_MINIMO INTEGER,
PRIMARY KEY(EST_INT_ID),
  FOREIGN KEY(PRO_INT_ID)
    REFERENCES PRODUTOS(PRO_INT_ID));

CREATE TABLE SOLICITACAO_COMPRA (
  SOL_INT_ID INTEGER  NOT NULL IDENTITY(1,1) ,
  FOR_INT_ID INTEGER  NOT NULL,
  EST_INT_ID INTEGER  NOT NULL,
  SOL_STR_STATUS VARCHAR(70) ,
   SOL_INT_QUANTIDADE INTEGER ,
  SOL_DAT_DATA DATE,
CONSTRAINT PK_SOL_INT_ID PRIMARY KEY(SOL_INT_ID),
 CONSTRAINT FK_FORNECEDOR_SOLICAITACAO FOREIGN KEY(FOR_INT_ID)
    REFERENCES FORNECEDOR(FOR_INT_ID),
 CONSTRAINT FK_ESSTOQUE_SOLICITACAO FOREIGN KEY(EST_INT_ID)
    REFERENCES ESTOQUE(EST_INT_ID));



CREATE TABLE PRODUTO_CATEGORIA (
  CAT_INT_ID INTEGER  NOT NULL  ,
  PRO_INT_ID INTEGER  NOT NULL      ,
CONSTRAINT FK_PRODUTOS_PRODUTO_CATEGORIA  FOREIGN KEY(PRO_INT_ID)
    REFERENCES PRODUTOS(PRO_INT_ID),
CONSTRAINT FK_CATEGORIA_PRODUTOS_CATEGORIA  FOREIGN KEY(CAT_INT_ID)
    REFERENCES CATEGORIA(CAT_INT_ID));



CREATE TABLE ESTOQUE_CATEGORIA (
  EST_INT_ID INTEGER  NOT NULL  ,
  CAT_INT_ID INTEGER  NOT NULL      ,
CONSTRAINT FK_ESTOQUE_ESTOQUE_CATEGORIA  FOREIGN KEY(EST_INT_ID)
    REFERENCES ESTOQUE(EST_INT_ID),
 CONSTRAINT FK_CATEGORIA_ESTOQUE_CATEGORIA FOREIGN KEY(CAT_INT_ID)
    REFERENCES CATEGORIA(CAT_INT_ID));